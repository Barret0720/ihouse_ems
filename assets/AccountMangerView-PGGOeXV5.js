import{O as J,d as K,M as D}from"./bootstrap.esm-Rs7Aj1ey.js";import{a as _,b as W,r as U,o as a,d as n,e,f as o,w,g as G,h as R,i as ee,F as g,j as E,t as i,u,n as O,k as H,l as S}from"./index-nS81pOOI.js";import{S as z}from"./sweetalert2.all-6XfT6ZgS.js";import{_ as te}from"./AddModal-L-hf0sYg.js";const se="data:image/png;base64,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",oe={class:"offcanvas offcanvas-end account-offcanvas",tabindex:"-1","data-bs-backdrop":"static",id:"setPasswordCanvas","aria-labelledby":"accountEditOffcanvasLabel"},le=G('<div class="offcanvas-header justify-content-end"><button type="button" class="btn-close rounded-5 bg-gray" data-bs-dismiss="offcanvas" aria-label="Close"></button></div><div class="title-word mt-1"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">設定密碼</h2></div>',2),ae={class:"offcanvas-body"},ne=e("div",null,null,-1),ce={class:"row g-3"},de={class:"col-8"},ie=e("label",{for:"password",class:"form-label"},"密碼：",-1),re={class:"col-8"},ue=e("label",{for:"password-chcek",class:"form-label"},"確認密碼：",-1),me={class:"mt-5 text-center d-flex gap-2"},be=["disabled"],pe={__name:"AccountSetPassword",props:["userObject","setPasswordElement","accountEditElement"],setup(A){const P=_(null),m=A,I=W(m.userObject);function q(){P.value.resetForm(),m.setPasswordElement.hide(),m.accountEditElement.hide(),z.fire({icon:"success",title:"已建立",position:"center",showConfirmButton:!1,timer:2e3})}return(b,p)=>{const y=U("VField"),k=U("ErrorMessage"),$=U("VForm");return a(),n("div",oe,[le,e("div",ae,[ne,o($,{ref_key:"setPasswordForm",ref:P,class:"needs-validation h-100 d-flex flex-column justify-content-between",novalidate:""},{default:w(({meta:M})=>[e("div",ce,[e("div",de,[ie,o(y,{class:"form-control",id:"password",name:"password",type:"password",rules:"required",placeholder:"請輸入密碼"}),o(k,{as:"p",class:"invalid-feedback d-block mb-0",name:"password"})]),e("div",re,[ue,o(y,{class:"form-control",id:"password-chcek",name:"password-chcek",type:"password",rules:"confirmed:@password",placeholder:"請再次輸入密碼",modelValue:I.password,"onUpdate:modelValue":p[0]||(p[0]=c=>I.password=c)},null,8,["modelValue"]),o(k,{as:"p",class:"invalid-feedback d-block mb-0",name:"password-chcek"})])]),e("div",me,[e("button",{class:"btn btn-outline-gray text-black w-50",type:"button",onClick:p[1]||(p[1]=c=>q())}," 上一步 "),e("button",{class:"btn btn-primary w-50",disabled:!M.valid,type:"button",onClick:p[2]||(p[2]=c=>q(b.value))}," 完成 ",8,be)])]),_:1},512)])])}}},fe={class:"offcanvas offcanvas-end account-offcanvas","data-bs-backdrop":"static",tabindex:"-1",id:"accountEditOffcanvas","aria-labelledby":"staticBackdropLabel"},ve={class:"offcanvas-header"},he={class:"offcanvas-title fw-semibold",id:"staticBackdropLabel"},_e={class:"title-word mt-1"},ge=e("span",{class:"colr-block"},null,-1),ye={key:0},ke={key:1},we={class:"offcanvas-body"},Ae=e("div",null,[e("img",{src:se,alt:"uploadPhoto"})],-1),Ve={class:"row g-3"},Ee={class:"col-8"},Ue=e("label",{for:"account",class:"form-label"},"帳號：",-1),Ce={class:"col-8"},xe=e("label",{for:"name",class:"form-label"},"姓名：",-1),Ie={class:"col-8"},qe=e("label",{for:"tel",class:"form-label"},"電話：",-1),Me={class:"col-12 d-flex select-lable-aligin gap-2"},Be={class:"col-8"},Pe=e("label",{for:"department",class:"form-label"},"單位：",-1),$e=e("option",{value:"",disabled:""},"請選擇單位",-1),Qe=["value"],Se={class:"col-4"},je={class:"col-12 d-flex select-lable-aligin gap-2"},Fe={class:"col-8"},Oe=e("label",{for:"title",class:"form-label"},"職稱：",-1),ze=e("option",{value:"",disabled:""},"請選擇職稱",-1),Ye=["value"],Ne={class:"col-4"},Le={class:"col-8"},Xe=e("label",{for:"system-access",class:"form-label"},"系統權限：",-1),Ze=e("option",{value:"",disabled:""},"請選擇權限",-1),Te=["value"],Ke=e("hr",{class:"my-4"},null,-1),We=e("h3",null,"頁面權限",-1),De={class:"col-8"},Re=e("option",{value:"",disabled:""},"請選擇頁面",-1),He=["value"],Je={class:"col-4"},Ge={class:"dropdown-menu"},et=["onClick"],tt=["onClick"],st={class:"col-4"},ot=["disabled"],lt={class:"mt-5 text-center"},at={key:0},nt=["disabled"],ct={key:1},dt=["disabled"],it={__name:"AccountEditOffcanvas",props:["departments","titles","systemAccesss","addModalElement","accountEditElement","isNew","tempObject"],emits:["updateUserObject"],setup(A,{emit:P}){const m=A,I=P,q=_(null),b=_(null),p=_(m.departments),y=_(m.titles),k=_(null),$=K.webPages,M=K.pageAccesss,c=W({id:"",account:"",name:"",phone:"",department:"",title:"",systemAccess:"",pageAccess:[{page:"",access:""}]});let f=W([{page:"",access:""}]);R(()=>m.tempObject,d=>{d!==null&&(Object.assign(c,d),f=d.pageAccess)},{immediate:!0}),R(()=>m.isNew,d=>{d&&k.value.resetForm()});function Y(){f.push({page:"",access:""})}function N(){I("updateUserObject",c),k.value.resetForm(),B.value.show()}function L(){I("updateUserObject",c),z.fire({icon:"success",title:"已儲存",position:"top",showConfirmButton:!1,timer:2e3}),m.accountEditElement.hide()}function j(d){z.fire({icon:"success",title:"已移除",position:"top",showConfirmButton:!1,timer:2e3})}function X(d,l){const h=c.pageAccess.findIndex(s=>s.page===d.page);c.pageAccess[h].access=l}function F(d){m.addModalElement.show(),d==="title"?(b.value="title",q.value=[...y.value]):(b.value="department",q.value=[...p.value])}function Z(){m.accountEditElement.hide()}function r(d){switch(d){case"Admin":return"系統管理員";case"editable":return"可編輯";case"onlyView":return"僅檢視";case"deactivate":return"停用中";default:return d}}function v(d){switch(d){case"editable":return"編輯者";case"onlyView":return"檢視者";case"del":return"移除權限";default:return d}}function C(d){const{arrayName:l,adjustedArray:h}=d;switch(l){case"title":y.value=h;break;case"department":p.value=h;break;default:console.error(d);break}m.addModalElement.hide()}const B=_(null);return ee(()=>{B.value=new J(document.querySelector("#setPasswordCanvas"),{keyboard:!1})}),(d,l)=>{const h=U("VField"),s=U("ErrorMessage"),Q=U("VForm");return a(),n(g,null,[e("div",fe,[e("div",ve,[e("h2",he,[e("div",_e,[ge,A.isNew?(a(),n("span",ye,"建立新帳號")):(a(),n("span",ke,"編輯帳號"))])]),e("button",{type:"button",class:"btn-close rounded-5 bg-gray","aria-label":"Close",onClick:l[0]||(l[0]=x=>Z())})]),e("div",we,[Ae,o(Q,{ref_key:"editUserForm",ref:k,class:"needs-validation"},{default:w(({meta:x})=>[e("div",Ve,[e("div",Ee,[Ue,o(h,{class:"form-control",id:"account",name:"account",type:"text",rules:"required",required:"",placeholder:"請輸入帳號",modelValue:c.account,"onUpdate:modelValue":l[1]||(l[1]=t=>c.account=t),disabled:!A.isNew},null,8,["modelValue","disabled"]),o(s,{as:"p",class:"invalid-feedback d-block mb-0",name:"account"})]),e("div",Ce,[xe,o(h,{class:"form-control",id:"name",name:"name",type:"text",rules:"required",required:"",placeholder:"請輸入姓名",modelValue:c.name,"onUpdate:modelValue":l[2]||(l[2]=t=>c.name=t)},null,8,["modelValue"]),o(s,{as:"p",class:"invalid-feedback d-block mb-0",name:"name"})]),e("div",Ie,[qe,o(h,{class:"form-control",id:"tel",name:"phone",type:"tel",required:"",rules:"required|digits:10|numeric",placeholder:"請輸入電話",modelValue:c.phone,"onUpdate:modelValue":l[3]||(l[3]=t=>c.phone=t),disabled:!A.isNew},null,8,["modelValue","disabled"]),o(s,{as:"p",class:"invalid-feedback d-block mb-0",name:"phone"})]),e("div",Me,[e("div",Be,[Pe,o(h,{id:"department",name:"department",as:"select",class:"form-select",required:"",rules:"required",modelValue:c.department,"onUpdate:modelValue":l[4]||(l[4]=t=>c.department=t)},{default:w(()=>[$e,(a(!0),n(g,null,E(p.value,t=>(a(),n("option",{key:t,value:t},i(t),9,Qe))),128))]),_:1},8,["modelValue"]),o(s,{as:"p",class:"invalid-feedback d-block mb-0",name:"department"})]),e("div",Se,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:l[5]||(l[5]=t=>F("department"))}," 建立新單位 ")])]),e("div",je,[e("div",Fe,[Oe,o(h,{id:"title",name:"title",as:"select",class:"form-select",required:"",rules:"required",modelValue:c.title,"onUpdate:modelValue":l[6]||(l[6]=t=>c.title=t)},{default:w(()=>[ze,(a(!0),n(g,null,E(y.value,t=>(a(),n("option",{key:t,value:t},i(t),9,Ye))),128))]),_:1},8,["modelValue"]),o(s,{as:"p",class:"invalid-feedback d-block mb-0",name:"title"})]),e("div",Ne,[e("button",{type:"button",class:"btn btn-outline-primary",onClick:l[7]||(l[7]=t=>F("title"))}," 建立新職稱 ")])]),e("div",Le,[Xe,o(h,{id:"system-access",name:"system-access",as:"select",class:"form-select",required:"",rules:"required",modelValue:c.systemAccess,"onUpdate:modelValue":l[8]||(l[8]=t=>c.systemAccess=t)},{default:w(()=>[Ze,(a(!0),n(g,null,E(A.systemAccesss,t=>(a(),n("option",{key:t,value:t},i(r(t)),9,Te))),128))]),_:1},8,["modelValue"]),o(s,{as:"p",class:"invalid-feedback d-block mb-0",name:"system-access"})])]),Ke,We,(a(!0),n(g,null,E(u(f),(t,T)=>(a(),n("div",{key:t.key,class:"col-12 d-flex align-items-start gap-2 mb-3"},[e("div",De,[o(h,{id:`page-${T}`,name:`page-${T}`,as:"select",class:"form-select",required:"",rules:"required",modelValue:t.page,"onUpdate:modelValue":V=>t.page=V,disabled:t.page!==""},{default:w(()=>[Re,(a(!0),n(g,null,E(u($),V=>(a(),n("option",{key:V,value:V},i(V),9,He))),128))]),_:2},1032,["id","name","modelValue","onUpdate:modelValue","disabled"]),o(s,{as:"p",class:"invalid-feedback d-block mb-0",name:`page-${T}`},null,8,["name"])]),e("div",Je,[e("button",{type:"button",class:O(["btn btn-outline-gray dropdown-toggle",[t.access!==""?"text-black":""]]),"data-bs-toggle":"dropdown","aria-expanded":"false"},i(t.access!==""?v(t.access):"請選擇權限"),3),e("ul",Ge,[(a(!0),n(g,null,E(u(M),V=>(a(),n("li",{key:V},[e("a",{class:"dropdown-item",href:"#",onClick:H(Rt=>X(t,V),["prevent"])},i(v(V)),9,et)]))),128)),e("li",null,[e("a",{class:"dropdown-item",href:"#",onClick:H(V=>j(t),["prevent"])},"移除權限",8,tt)])])])]))),128)),e("div",st,[e("button",{type:"button",class:O(["btn",{"btn-outline-gray":u(f)&&u(f)[u(f).length-1].page==="","btn-outline-primary":!(u(f)&&u(f)[u(f).length-1].page==="")}]),onClick:Y,disabled:u(f)&&u(f)[u(f).length-1].page===""}," 新增頁面 ",10,ot)]),e("div",lt,[A.isNew?(a(),n("span",at,[e("button",{class:O(["btn btn-primary w-50",[x.valid?"btn-primary":"btn-gray"]]),disabled:!x.valid,type:"button",onClick:l[9]||(l[9]=t=>N())}," 下一步 ",10,nt)])):(a(),n("span",ct,[e("button",{class:O(["btn btn-primary w-50",[x.valid?"btn-primary":"btn-gray"]]),disabled:!x.valid,type:"button",onClick:l[10]||(l[10]=t=>L())}," 儲存 ",10,dt)]))])]),_:1},512)])]),o(te,{"temp-array":q.value,"array-name":b.value,onDataAdjusted:C},null,8,["temp-array","array-name"]),o(pe,{"user-object":c,"set-password-element":B.value,"account-edit-element":A.accountEditElement},null,8,["user-object","set-password-element","account-edit-element"])],64)}}},rt={class:"container"},ut={class:"list-unstyled d-flex page-box mb-4"},mt={class:"page-item"},bt={class:"page-item"},pt={class:"bg-white-box mb-2"},ft={class:"d-flex gap-2"},vt={class:""},ht=e("label",{for:"searchInput",class:"form-label"},"姓名、電話、帳號",-1),_t={class:""},gt=e("label",{for:"search-department",class:"form-label"},"單位",-1),yt=e("option",{value:"",disabled:""},"請選擇單位",-1),kt=["value"],wt={class:""},At=e("label",{for:"search-title",class:"form-label"},"職稱",-1),Vt=e("option",{value:"",disabled:""},"請選擇職稱",-1),Et=["value"],Ut=e("button",{type:"submit",class:"btn btn-gray fw-semibold"},"搜尋",-1),Ct={class:"d-flex justify-content-between align-items-end mb-2"},xt=e("h4",{class:"fw-semibold"},"列表",-1),It={class:"d-flex gap-2 align-items-center me-2"},qt={class:"mb-0 me-2"},Mt={class:"bg-white-box"},Bt={class:"table-responsive"},Pt={class:"table table-hover"},$t=e("thead",{class:"table-head"},[e("tr",null,[e("th",{scope:"col"},"排序"),e("th",{class:"table-img-col",scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"頭像")]),e("th",{scope:"col"},"單位"),e("th",{scope:"col"},"單位"),e("th",{scope:"col"},"姓名"),e("th",{scope:"col"},"電話"),e("th",{scope:"col"},"帳號"),e("th",{scope:"col"},"系統權限"),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"權限頁面")]),e("th",{scope:"col"},[e("p",{class:"border-start border-2 ps-2 mb-0"},"操作")])])],-1),Qt={scope:"row",class:"text-center"},St={class:"ps-2"},jt=["src"],Ft={class:"ps-2 mb-0"},Ot={class:"ps-2"},zt=["onClick"],Yt=["onClick"],Nt={class:"modal fade",id:"delUserModal","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Lt={class:"modal-dialog modal-dialog-centered"},Xt={class:"modal-content bg-white-box"},Zt=G('<div class="modal-header border-0"><div class="title-word"><span class="colr-block"></span><h2 class="mb-0 fw-semibold">刪除帳號</h2></div><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div>',1),Tt={class:"modal-body"},Kt={class:"fw-semibold"},Wt={class:"d-flex gap-2 justify-content-center"},Dt=e("button",{type:"submit",class:"fw-semibold btn btn-outline-black w-50","data-bs-dismiss":"modal"}," 取消 ",-1),ts={__name:"AccountMangerView",setup(A){const{userDatas:P,departments:m,titles:I,systemAccesss:q}=K,b=_(P),p=_(null),y=_(null),k=_(null),$=_(null),M=_(null),c=_(null),f=_(null);function Y(r){console.log(r)}function N(){f.value.resetForm()}function L(r){switch(r){case"Admin":return"系統管理員";case"editable":return"可編輯";case"onlyView":return"僅檢視";case"deactivate":return"停用中";default:return r}}function j(r,v){v==="new"?(y.value=!0,k.value={account:"",name:"",phone:"",department:"",title:"",systemAccess:"",pageAccess:[{page:"",access:""}]}):(y.value=!1,k.value={...r}),M.value.show()}function X(r){if(y.value){const C=b[b.value.length-1].id+1;r.id=C,b.value.push(r)}else{const v=b.value.findIndex(C=>C.id===r.id);v!==-1&&(b.value[v]=r)}}function F(r){c.value.show(),p.value={...r}}function Z(r){b.value=b.value.filter((v,C)=>v.id!==r),p.value=null,c.value.hide(),z.fire({icon:"success",title:"已刪除",position:"top",showConfirmButton:!1,timer:2e3})}return ee(()=>{M.value=new J("#accountEditOffcanvas",{keyboard:!1}),$.value=new D(document.querySelector("#addModal"),{keyboard:!1}),c.value=new D(document.querySelector("#delUserModal"),{keyboard:!1})}),(r,v)=>{var h;const C=U("router-link"),B=U("VField"),d=U("ErrorMessage"),l=U("VForm");return a(),n(g,null,[e("div",rt,[e("ul",ut,[e("li",mt,[o(C,{to:"/access/accountManger",class:"page-link fs-4"},{default:w(()=>[S("帳號")]),_:1})]),e("li",bt,[o(C,{to:"/access/pageManger",class:"page-link fs-4"},{default:w(()=>[S("頁面")]),_:1})])]),e("section",pt,[o(l,{class:"d-flex justify-content-between align-items-end",ref_key:"searchForm",ref:f,onSubmit:Y},{default:w(()=>[e("div",ft,[e("div",vt,[ht,o(B,{class:"form-control",name:"searchInput",type:"text",id:"searchInput",placeholder:"請輸入姓名、電話、帳號"})]),e("div",_t,[gt,o(B,{id:"search-department",name:"department",as:"select",class:"form-select"},{default:w(()=>[yt,(a(!0),n(g,null,E(u(m),s=>(a(),n("option",{key:s,value:s},i(s),9,kt))),128))]),_:1}),o(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"department"})]),e("div",wt,[At,o(B,{id:"search-title",name:"title",as:"select",class:"form-select"},{default:w(()=>[Vt,(a(!0),n(g,null,E(u(I),s=>(a(),n("option",{key:s,value:s},i(s),9,Et))),128))]),_:1}),o(d,{as:"p",class:"invalid-feedback d-block mb-0",name:"職稱"})])]),e("div",{class:"d-flex gap-2"},[e("button",{type:"button",class:"btn btn-outline-gray fw-semibold",onClick:N}," 清除 "),Ut])]),_:1},512)]),e("section",null,[e("div",Ct,[xt,e("div",It,[e("p",qt,"共計："+i(b.value.length)+" 筆",1),e("button",{class:"btn btn-outline-primary fw-semibold",type:"button","aria-controls":"staticBackdrop",onClick:v[0]||(v[0]=s=>j(k.value,"new"))}," 建立新帳號 ")])]),e("div",Mt,[e("div",Bt,[e("table",Pt,[$t,(a(!0),n(g,null,E(b.value,(s,Q)=>(a(),n("tbody",{key:s.id},[e("tr",null,[e("th",Qt,i(Q+1),1),e("td",null,[e("div",St,[e("img",{class:"table-img-head",src:s.photo,alt:""},null,8,jt)])]),e("td",null,i(s.department),1),e("td",null,i(s.title),1),e("td",null,i(s.name),1),e("td",null,i(s.phone),1),e("td",null,i(s.account),1),e("td",null,i(L(s.systemAccess)),1),e("td",null,[e("p",Ft,[(a(!0),n(g,null,E(s.pageAccess,(x,t)=>(a(),n(g,null,[S(i(t>0?"、":"")+i(x.page),1)],64))),256))])]),e("td",null,[e("div",Ot,[e("button",{type:"button",class:"btn btn-outline-primary border-0 fw-semibold","aria-controls":"staticBackdrop",onClick:x=>j(s,"edit")}," 編輯 ",8,zt),e("button",{type:"button",class:"btn btn-outline-danger border-0 fw-semibold",onClick:x=>F(s)}," 刪除 ",8,Yt)])])])]))),128))])])])])]),e("div",Nt,[e("div",Lt,[e("div",Xt,[Zt,e("div",Tt,[e("p",null,[S(" 確定要刪除 "),e("span",Kt,i((h=p.value)==null?void 0:h.name),1),S(" 的帳號嗎？ ")]),e("div",Wt,[e("button",{type:"submit",class:"fw-semibold btn btn-danger w-50",onClick:v[1]||(v[1]=s=>{var Q;return Z((Q=p.value)==null?void 0:Q.id)})}," 確定刪除 "),Dt])])])])]),o(it,{titles:u(I),departments:u(m),"system-accesss":u(q),"is-new":y.value,"temp-object":k.value,"add-modal-element":$.value,"account-edit-element":M.value,onUpdateUserObject:X},null,8,["titles","departments","system-accesss","is-new","temp-object","add-modal-element","account-edit-element"])],64)}}};export{ts as default};
